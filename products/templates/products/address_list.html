<h3>Your Saved Addresses</h3>

<a href="{% url 'add_address' %}" class="btn btn-primary mb-3">Add New Address</a>

{% for address in addresses %}
    <div class="border p-3 mb-2">
        <p><strong>{{ address.full_name }}</strong> ({{ address.phone_number }})</p>
        <p>{{ address.estate_or_area }}, {{ address.city_or_town }}, {{ address.region }}</p>
        {% if address.street %}<p>Street: {{ address.street }}</p>{% endif %}
        {% if address.building %}<p>Building: {{ address.building }}</p>{% endif %}
        {% if address.apartment %}<p>Apartment: {{ address.apartment }}</p>{% endif %}
        {% if address.additional_info %}<p>{{ address.additional_info }}</p>{% endif %}

        <p>
            {% if address.is_default %}
                <span class="badge bg-success">Default</span>
            {% endif %}
        </p>

        <a href="{% url 'edit_address' address.id %}" class="btn btn-sm btn-warning">Edit</a>
        <form action="{% url 'delete_address' address.id %}" method="post" style="display:inline;">
            {% csrf_token %}
            <button class="btn btn-sm btn-danger" type="submit">Delete</button>
        </form>
    </div>
{% empty %}
    <p>No addresses saved yet.</p>
{% endfor %}
